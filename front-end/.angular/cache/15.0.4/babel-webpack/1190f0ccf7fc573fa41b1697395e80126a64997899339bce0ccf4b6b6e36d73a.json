{"ast":null,"code":"import { CartComponent } from \"../cart/cart.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/admin.service\";\nimport * as i2 from \"src/app/Services/user.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../navbar/navbar.component\";\nfunction ViewproductComponent_div_2_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ViewproductComponent_div_2_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.cart(item_r1));\n    });\n    i0.ɵɵtext(1, \"ADD TO CART\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewproductComponent_div_2_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ViewproductComponent_div_2_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.added());\n    });\n    i0.ɵɵtext(1, \" ITEM ADDED TO CART \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewproductComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ViewproductComponent_div_2_button_11_Template, 2, 0, \"button\", 4);\n    i0.ɵɵtemplate(12, ViewproductComponent_div_2_button_12_Template, 2, 0, \"button\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.productImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.productName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\u20B9 \", item_r1.productPrice, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.productType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.show);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !item_r1.show);\n  }\n}\nexport class ViewproductComponent {\n  constructor(adminservice, userservice, toastr, router) {\n    this.adminservice = adminservice;\n    this.userservice = userservice;\n    this.toastr = toastr;\n    this.router = router;\n    this.product1 = [];\n    this.id = [];\n    this.id1 = [];\n    this.idValue = \"\";\n    this.user = localStorage.getItem(\"Active-User\");\n  }\n  ngOnInit() {\n    this.adminservice.getProduct().subscribe(res => {\n      this.product = res;\n    }, err => {\n      this.toastr.error(`${err.status} Error ${err.name}`);\n    });\n    this.getCart();\n  }\n  cart(data) {\n    if (this.user != null) {\n      this.id.push(data.productName);\n      data.userId = this.user;\n      data.deliveryStatus = \"Ordered\";\n      data.quantity = 1;\n      data.total = data.productPrice;\n      this.userservice.addProduct(data).subscribe(() => {\n        this.toastr.success(\"Product added to the cart..!\");\n        data.show = false;\n      }, err => {\n        this.toastr.error(`${err.status} Error ${err.name}`);\n      });\n      delete data._id;\n    } else {\n      this.toastr.warning(\"Please login before continue..!\");\n      setTimeout(() => {\n        this.router.navigate([\"/loginSignUp-path/login-path\"]);\n      }, 500);\n    }\n  }\n  getCart() {\n    this.userservice.getCart(this.user, \"Ordered\").subscribe(res => {\n      this.cart1 = res;\n      this.cart1.map(element => {\n        this.id.push(element.productName);\n        localStorage.setItem(\"id\", this.id);\n      });\n    });\n    setTimeout(() => {\n      this.id1 = localStorage.getItem(\"id\")?.split(\",\");\n      this.product.map(element => {\n        if (this.id1 != undefined) {\n          if (this.id1.includes(element.productName)) {\n            element.show = false;\n            return this.product1.push(element);\n          } else {\n            return this.product1.push(element);\n          }\n        } else {\n          this.product1 = this.product;\n        }\n      });\n    }, 1000);\n  }\n  added() {\n    this.toastr.info(\"Item is already added to the cart..!\");\n  }\n}\nViewproductComponent.ɵfac = function ViewproductComponent_Factory(t) {\n  return new (t || ViewproductComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.Router));\n};\nViewproductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewproductComponent,\n  selectors: [[\"app-viewproduct\"]],\n  features: [i0.ɵɵProvidersFeature([CartComponent])],\n  decls: 3,\n  vars: 1,\n  consts: [[1, \"container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [\"alt\", \"images\", 3, \"src\"], [\"id\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"disabled\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"button\", 3, \"click\"], [1, \"disabled\", 3, \"click\"]],\n  template: function ViewproductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵtemplate(2, ViewproductComponent_div_2_Template, 13, 6, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.product1);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.NavbarComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 361:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(26:3) /home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/home/viewproduct/viewproduct.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 24 | \\\\u001b[39m\\\\u001b[35m#button\\\\u001b[39m \\\\u001b[33m{\\\\u001b[39m\\\\n \\\\u001b[90m 25 | \\\\u001b[39m  margin\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 26 | \\\\u001b[39m  border-radius\\\\u001b[33m:\\\\u001b[39m 20px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 27 | \\\\u001b[39m  border\\\\u001b[33m:\\\\u001b[39m 1px solid \\\\u001b[35m#00d2ff\\\\u001b[39m\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 28 | \\\\u001b[39m  background-color\\\\u001b[33m:\\\\u001b[39m \\\\u001b[35m#3a47d5\\\\u001b[39m\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[361]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=viewproduct.component.css.map*/\"]\n});","map":{"version":3,"mappings":"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","names":["CartComponent","i0","ViewproductComponent","constructor","adminservice","userservice","toastr","router","localStorage","getItem","ngOnInit","getProduct","subscribe","res","product","err","error","status","name","getCart","cart","data","user","id","push","productName","userId","deliveryStatus","quantity","total","productPrice","addProduct","success","show","_id","warning","setTimeout","navigate","cart1","map","element","setItem","id1","split","undefined","includes","product1","added","info","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/home/viewproduct/viewproduct.component.ts","/home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/home/viewproduct/viewproduct.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { AddProduct, errorMessage } from \"src/app/Services/Guard/product\";\nimport { AdminService } from \"src/app/Services/admin.service\";\nimport { UserService } from \"src/app/Services/user.service\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { Router } from \"@angular/router\";\nimport { CartComponent } from \"../cart/cart.component\";\n\n@Component({\n  selector: \"app-viewproduct\",\n  templateUrl: \"./viewproduct.component.html\",\n  styleUrls: [\"./viewproduct.component.css\"],\n  providers: [CartComponent],\n})\nexport class ViewproductComponent implements OnInit {\n  public product!: AddProduct[];\n  public product1: any = [];\n  public cart1!: AddProduct[];\n  public id: any = [];\n  public id1: any = [];\n  public idValue = \"\";\n  constructor(\n    public adminservice: AdminService,\n    public userservice: UserService,\n    private toastr: ToastrService,\n    private router: Router\n  ) {}\n  ngOnInit() {\n    this.adminservice.getProduct().subscribe(\n      (res: AddProduct[]) => {\n        this.product = res;\n      },\n      (err: errorMessage) => {\n        this.toastr.error(`${err.status} Error ${err.name}`);\n      }\n    );\n    this.getCart();\n  }\n  user = localStorage.getItem(\"Active-User\");\n\n  cart(data: any) {\n    if (this.user != null) {\n      this.id.push(data.productName);\n      data.userId = this.user;\n      data.deliveryStatus = \"Ordered\";\n      data.quantity = 1;\n      data.total = data.productPrice;\n      this.userservice.addProduct(data).subscribe(\n        () => {\n          this.toastr.success(\"Product added to the cart..!\");\n          data.show = false;\n        },\n        (err: errorMessage) => {\n          this.toastr.error(`${err.status} Error ${err.name}`);\n        }\n      );\n      delete data._id;\n    } else {\n      this.toastr.warning(\"Please login before continue..!\");\n      setTimeout(() => {\n        this.router.navigate([\"/loginSignUp-path/login-path\"]);\n      }, 500);\n    }\n  }\n\n  getCart() {\n    this.userservice.getCart(this.user,\"Ordered\").subscribe((res: any) => {\n      this.cart1=res\n      this.cart1.map((element: any) => {\n        this.id.push(element.productName);\n        localStorage.setItem(\"id\", this.id);\n      });\n    });\n    setTimeout(() => {\n      this.id1 = localStorage.getItem(\"id\")?.split(\",\");\n      this.product.map((element: any) => {\n        if (this.id1 != undefined) {\n          if (this.id1.includes(element.productName)) {\n            element.show = false;\n            return this.product1.push(element);\n          } else {\n            return this.product1.push(element);\n          }\n        } else {\n          this.product1 = this.product;\n        }\n      });\n    }, 1000);\n  }\n  added() {\n    this.toastr.info(\"Item is already added to the cart..!\");\n  }\n}\n","<app-navbar></app-navbar>\n<div class=\"container\">\n  <div *ngFor=\"let item of product1\">\n    <div class=\"card\">\n      <img src=\"{{ item.productImage }}\" alt=\"images\" />\n      <h3>{{ item.productName }}</h3>\n      <p><strong>Price:</strong>₹ {{ item.productPrice }}</p>\n      <p>{{ item.productType }}</p>\n\n      <button (click)=\"cart(item)\" *ngIf=\"item.show\" id=\"button\">ADD TO CART</button>\n      <button *ngIf=\"!item.show\" (click)=\"added()\" class=\"disabled\">\n        ITEM ADDED TO CART\n      </button>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}