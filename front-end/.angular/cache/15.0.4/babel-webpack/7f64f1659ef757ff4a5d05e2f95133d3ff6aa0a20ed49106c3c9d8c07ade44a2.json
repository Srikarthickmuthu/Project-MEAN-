{"ast":null,"code":"import { TallyComponent } from '../tally/tally.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/admin.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../home/navbar/navbar.component\";\nfunction SellingDetailsComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function SellingDetailsComponent_tr_14_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.total(product_r1.productName, product_r1.productPrice));\n    });\n    i0.ɵɵtext(7, \" Click Here ..! \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r1.productImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.productName);\n  }\n}\nexport class SellingDetailsComponent {\n  constructor(adminservice, dialog, toastr) {\n    this.adminservice = adminservice;\n    this.dialog = dialog;\n    this.toastr = toastr;\n    this.Quantity = 0;\n    this.value = 'Delivered';\n  }\n  ngOnInit() {\n    this.adminservice.getProduct().subscribe(res => {\n      this.cart = res;\n    });\n    this.clear();\n  }\n  total(data, id) {\n    this.adminservice.getSelling(this.value, data).subscribe(res => {\n      this.cart1 = res, err => {\n        this.toastr.error(`${err.status} Error ${err.name}`);\n      };\n      for (const element of this.cart1) {\n        this.Quantity = this.Quantity + element.quantity;\n      }\n    });\n    this.setSessionData(data, id);\n    this.openTallyDialog();\n  }\n  setSessionData(data, id) {\n    setTimeout(() => {\n      sessionStorage.setItem('quantity', this.Quantity.toString());\n      sessionStorage.setItem('productName', data);\n      sessionStorage.setItem('productPrice', id);\n      this.Quantity = 0;\n    }, 500);\n  }\n  openTallyDialog() {\n    setTimeout(() => {\n      this.dialog.open(TallyComponent).afterClosed().subscribe(() => {\n        this.clear();\n      }, err => {\n        this.toastr.error(`${err.status} Error ${err.name}`);\n      });\n    }, 700);\n  }\n  clear() {\n    sessionStorage.clear();\n  }\n}\nSellingDetailsComponent.ɵfac = function SellingDetailsComponent_Factory(t) {\n  return new (t || SellingDetailsComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\nSellingDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SellingDetailsComponent,\n  selectors: [[\"app-selling-details\"]],\n  decls: 15,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"src\"], [3, \"click\"]],\n  template: function SellingDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\")(2, \"h2\");\n      i0.ɵɵtext(3, \"List of Total Products sold\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"table\")(5, \"thead\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"Product Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Product name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Total Quantity Ordered\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"tbody\");\n      i0.ɵɵtemplate(14, SellingDetailsComponent_tr_14_Template, 8, 2, \"tr\", 0);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cart);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.NavbarComponent],\n  styles: [\"table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  margin-right: auto;\\n  text-align: center;\\n  border-bottom: 1px solid;\\n  border-collapse: collapse;\\n}\\nh2[_ngcontent-%COMP%] {\\n  font-size: 40px;\\n  color: rgb(232, 196, 196);\\n  text-align: center;\\n}\\ntr[_ngcontent-%COMP%]:nth-child(odd) {\\n  background-color: #eee;\\n}\\ntr[_ngcontent-%COMP%]:nth-child(even) {\\n  background-color: rgb(180, 171, 171);\\n}\\n\\ntd[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n  padding: 10px 39px;\\n  font-size: 20px;\\n}\\nimg[_ngcontent-%COMP%] {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 80px;\\n}\\nbutton[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  background-color: #3a47d5;\\n  color: #ffffff;\\n  font-size: 12px;\\n  font-weight: bold;\\n  padding: 12px 50px;\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vc2VsbGluZy1kZXRhaWxzL3NlbGxpbmctZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7RUFHRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQix3QkFBd0I7RUFDeEIseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSxvQ0FBb0M7QUFDdEM7O0FBRUE7O0VBRUUsa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7QUFDQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUsXG50ZCxcbnRoIHtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5oMiB7XG4gIGZvbnQtc2l6ZTogNDBweDtcbiAgY29sb3I6IHJnYigyMzIsIDE5NiwgMTk2KTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxudHI6bnRoLWNoaWxkKG9kZCkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xufVxudHI6bnRoLWNoaWxkKGV2ZW4pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4MCwgMTcxLCAxNzEpO1xufVxuXG50ZCxcbnRoIHtcbiAgcGFkZGluZzogMTBweCAzOXB4O1xuICBmb250LXNpemU6IDIwcHg7XG59XG5pbWcge1xuICB3aWR0aDogMTAwcHg7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDgwcHg7XG59XG5idXR0b24ge1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2E0N2Q1O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgcGFkZGluZzogMTJweCA1MHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["TallyComponent","i0","SellingDetailsComponent","constructor","adminservice","dialog","toastr","ngOnInit","getProduct","subscribe","res","cart","clear","total","data","id","getSelling","value","cart1","err","error","status","name","element","Quantity","quantity","setSessionData","openTallyDialog","setTimeout","sessionStorage","setItem","toString","open","afterClosed","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/admin/selling-details/selling-details.component.ts","/home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/admin/selling-details/selling-details.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ToastrService } from 'ngx-toastr';\nimport { AdminService } from 'src/app/Services/admin.service';\nimport { AddProduct, errorMessage } from 'src/app/Services/Guard/product';\nimport { UserService } from 'src/app/Services/user.service';\nimport { TallyComponent } from '../tally/tally.component';\n\n@Component({\n  selector: 'app-selling-details',\n  templateUrl: './selling-details.component.html',\n  styleUrls: ['./selling-details.component.css'],\n})\nexport class SellingDetailsComponent {\n  cart!: any;\n  cart1!: any;\n  update!: AddProduct;\n  Quantity=0;\n  value = 'Delivered';\n\n  constructor(\n    public adminservice: AdminService,\n    private dialog: MatDialog,\n    private toastr: ToastrService\n  ) {}\n\n  ngOnInit() {\n    this.adminservice.getProduct().subscribe((res: any) => {\n      this.cart = res;\n    });\n    this.clear();\n  }\n\n  total(data: any, id: any) {\n    this.adminservice.getSelling(this.value,data).subscribe((res: any) => {\n      this.cart1 = res,\n        (err: errorMessage) => {\n          this.toastr.error(`${err.status} Error ${err.name}`);\n        }\n      for(const element of this.cart1){\n        this.Quantity=this.Quantity+element.quantity\n      }\n    });\n    this.setSessionData(data, id);\n    this.openTallyDialog();\n  }\n\n  setSessionData(data: any, id: any) {\n    setTimeout(() => {\n      sessionStorage.setItem('quantity', this.Quantity.toString());\n      sessionStorage.setItem('productName', data);\n      sessionStorage.setItem('productPrice', id);\n      this.Quantity=0;\n    }, 500);\n  }\n\n  openTallyDialog() {\n    setTimeout(() => {\n      this.dialog\n        .open(TallyComponent)\n        .afterClosed()\n        .subscribe(\n          () => {\n            this.clear();\n          },\n          (err: errorMessage) => {\n            this.toastr.error(`${err.status} Error ${err.name}`);\n          }\n        );\n    }, 700);\n  }\n\n  clear() {\n    sessionStorage.clear();\n  }\n}\n","<app-navbar></app-navbar>\n\n<div>\n  <h2>List of Total Products sold</h2>\n  <table>\n    <thead>\n      <tr>\n        <th>Product Image</th>\n        <th>Product name</th>\n        <th>Total Quantity Ordered</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let product of cart\">\n        <td><img src=\"{{ product.productImage }}\" /></td>\n        <td>{{ product.productName }}</td>\n        <td>\n          <button (click)=\"total(product.productName, product.productPrice)\">\n            Click Here ..!\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}