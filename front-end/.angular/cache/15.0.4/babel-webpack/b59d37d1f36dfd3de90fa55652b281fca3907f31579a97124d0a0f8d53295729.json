{"ast":null,"code":"import { EditProductComponent } from '../edit-product/edit-product.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/admin.service\";\nimport * as i2 from \"src/app/Services/user.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../home/navbar/navbar.component\";\nfunction ViewProductComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ViewProductComponent_tr_18_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editProduct(product_r1._id));\n    });\n    i0.ɵɵtext(11, \" Edit \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ViewProductComponent_tr_18_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteProduct(product_r1._id));\n    });\n    i0.ɵɵtext(14, \" Delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r1.productImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.productName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.productType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r1.productPrice);\n  }\n}\nexport class ViewProductComponent {\n  constructor(adminservice, userservice, toastr, dialog) {\n    this.adminservice = adminservice;\n    this.userservice = userservice;\n    this.toastr = toastr;\n    this.dialog = dialog;\n    this.access = false;\n    this.show = false;\n    this.getProducts();\n  }\n  getProducts() {\n    this.adminservice.getProduct().subscribe(res => {\n      this.product = res;\n    }, err => {\n      this.toastr.error(`${err.status} Error ${err.name}`);\n    });\n  }\n  ngOnChanges() {\n    this.getProducts();\n  }\n  editProduct(data) {\n    this.dialog.open(EditProductComponent).afterClosed().subscribe(() => {\n      this.getProducts();\n    }, err => {\n      this.toastr.error(`${err.status} Error ${err.name}`);\n    });\n    localStorage.setItem('id', data.toString());\n    this.id = data;\n  }\n  deleteProduct(data) {\n    this.userservice.deleteProduct(data).subscribe(() => {\n      this.getProducts();\n      this.toastr.warning('Product deleted..!');\n    }, err => {\n      this.toastr.error(`${err.status} Error ${err.name}`);\n    });\n  }\n}\nViewProductComponent.ɵfac = function ViewProductComponent_Factory(t) {\n  return new (t || ViewProductComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.MatDialog));\n};\nViewProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ViewProductComponent,\n  selectors: [[\"app-view-product\"]],\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 19,\n  vars: 1,\n  consts: [[1, \"column1\"], [\"colspan\", \"2\"], [4, \"ngFor\", \"ngForOf\"], [3, \"src\"], [\"mat-raised-button\", \"\", 2, \"background-color\", \"rgba(133, 189, 49, 0.842)\", 3, \"click\"], [2, \"background-color\", \"red\", 3, \"click\"]],\n  template: function ViewProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"h2\");\n      i0.ɵɵtext(3, \"List of Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"table\")(5, \"thead\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"Product Image\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Product Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Product Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 1);\n      i0.ɵɵtext(16, \"Edit/Delete\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, ViewProductComponent_tr_18_Template, 15, 4, \"tr\", 2);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.product);\n    }\n  },\n  dependencies: [i5.NgForOf, i6.NavbarComponent],\n  styles: [\"table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  margin-right: auto;\\n  text-align: center;\\n  border-bottom: 1px solid;\\n  border-collapse: collapse;\\n}\\nh2[_ngcontent-%COMP%] {\\n  font-size: 40px;\\n  color: rgb(232, 196, 196);\\n  text-align: center;\\n}\\ntr[_ngcontent-%COMP%]:nth-child(odd) {\\n  background-color: #eee;\\n}\\ntr[_ngcontent-%COMP%]:nth-child(even) {\\n  background-color: rgb(180, 171, 171);\\n}\\n\\ntd[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n  padding: 10px 39px;\\n  font-size: 20px;\\n}\\nimg[_ngcontent-%COMP%] {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 80px;\\n}\\nbutton[_ngcontent-%COMP%] {\\n  padding: 5px 20px;\\n  font-size: large;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vdmlldy1wcm9kdWN0L3ZpZXctcHJvZHVjdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7RUFHRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQix3QkFBd0I7RUFDeEIseUJBQXlCO0FBQzNCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YseUJBQXlCO0VBQ3pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0Usc0JBQXNCO0FBQ3hCO0FBQ0E7RUFDRSxvQ0FBb0M7QUFDdEM7O0FBRUE7O0VBRUUsa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7QUFDQTtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsZ0JBQWdCO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUsXG50ZCxcbnRoIHtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5oMiB7XG4gIGZvbnQtc2l6ZTogNDBweDtcbiAgY29sb3I6IHJnYigyMzIsIDE5NiwgMTk2KTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxudHI6bnRoLWNoaWxkKG9kZCkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xufVxudHI6bnRoLWNoaWxkKGV2ZW4pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4MCwgMTcxLCAxNzEpO1xufVxuXG50ZCxcbnRoIHtcbiAgcGFkZGluZzogMTBweCAzOXB4O1xuICBmb250LXNpemU6IDIwcHg7XG59XG5pbWcge1xuICB3aWR0aDogMTAwcHg7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDgwcHg7XG59XG5idXR0b24ge1xuICBwYWRkaW5nOiA1cHggMjBweDtcbiAgZm9udC1zaXplOiBsYXJnZTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["EditProductComponent","i0","ViewProductComponent","constructor","adminservice","userservice","toastr","dialog","getProducts","getProduct","subscribe","res","product","err","error","status","name","ngOnChanges","editProduct","data","open","afterClosed","localStorage","setItem","toString","id","deleteProduct","warning","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/admin/view-product/view-product.component.ts","/home/asplap3262/Desktop/Project(MEAN)/front-end/src/app/admin/view-product/view-product.component.html"],"sourcesContent":["import { Component, OnChanges } from '@angular/core';\nimport { AddProduct, errorMessage } from 'src/app/Services/Guard/product';\nimport { AdminService } from 'src/app/Services/admin.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EditProductComponent } from '../edit-product/edit-product.component';\nimport { UserService } from 'src/app/Services/user.service';\n\n@Component({\n  selector: 'app-view-product',\n  templateUrl: './view-product.component.html',\n  styleUrls: ['./view-product.component.css'],\n})\nexport class ViewProductComponent implements OnChanges {\n  public product!: AddProduct[];\n  public access = false;\n  public update!: AddProduct[];\n  constructor(\n    public adminservice: AdminService,\n    public userservice:UserService,\n    private toastr: ToastrService,\n    private dialog: MatDialog\n  ) {\n    this.getProducts();\n  }\n\n  getProducts() {\n    this.adminservice.getProduct().subscribe(\n      (res: AddProduct[]) => {\n        this.product = res;\n      },\n      (err: errorMessage) => {\n        this.toastr.error(`${err.status} Error ${err.name}`);\n      }\n    );\n  }\n  ngOnChanges() {\n    this.getProducts();\n  }\n  id!: number;\n  show = false;\n\n  editProduct(data: number) {\n    this.dialog\n      .open(EditProductComponent)\n      .afterClosed().subscribe(\n        () => {\n          this.getProducts();\n        },\n        (err: errorMessage) => {\n          this.toastr.error(`${err.status} Error ${err.name}`);\n        }\n      );\n    localStorage.setItem('id', data.toString());\n    this.id = data;\n  }\n\n  deleteProduct(data: number) {\n    this.userservice.deleteProduct(data).subscribe(\n      () => {\n        this.getProducts();\n        this.toastr.warning('Product deleted..!');\n      },\n      (err: errorMessage) => {\n        this.toastr.error(`${err.status} Error ${err.name}`);\n      }\n    );\n  }\n}","<app-navbar></app-navbar>\n\n<div class=\"column1\">\n  <h2>List of Products</h2>\n  <table>\n    <thead>\n      <tr>\n        <th>Product Image</th>\n        <th>Product Name</th>\n        <th>Product Type</th>\n        <th>Product Price</th>\n        <th colspan=\"2\">Edit/Delete</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let product of product\">\n        <td><img src=\"{{ product.productImage }}\" /></td>\n        <td>{{ product.productName }}</td>\n        <td>{{ product.productType }}</td>\n        <td>{{ product.productPrice }}</td>\n        <td>\n          <button\n            mat-raised-button\n            (click)=\"editProduct(product._id)\"\n            style=\"background-color: rgba(133, 189, 49, 0.842)\"\n          >\n            Edit\n          </button>\n        </td>\n        <td>\n          <button\n            (click)=\"deleteProduct(product._id)\"\n            style=\"background-color: red\"\n          >\n            Delete\n          </button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}